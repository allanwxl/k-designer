import{e as N,w as J,g as R,f as E,o as v,c as T,d as D,q as F,D as we,b as P,n as m,u as e,P as V,E as $e,y as xe,s as A,F as $,v as L,Q as Ce,r as Q,M as Ee,X as je,z as Se,A as H,T as Me,j as ze,H as le,i as Ae,l as He,p as qe,a8 as We,a9 as de,m as pe,aa as Ve,k as Xe,$ as Te,ab as fe}from"../app.f47f61a8.js";import{aT as Ke,i as z,f as h,l as Qe,m as q,$ as oe,S as ue,aU as Ze,aV as Re,v as Ge,u as Fe,P as Be,a8 as Y,N as ee,s as M,aW as te,y as _,O as se,aX as Je,aY as Ye,aZ as et,Q as tt,ac as ce,a_ as st,aa as _e,ad as at,I as nt,a$ as lt,t as W,b0 as me,b1 as ot,b2 as rt,o as it,a7 as ut,b3 as ct}from"./index-9f785207.e6578421.js";import{n as Le}from"./isNil-8ef0e4b6.1ddc74dd.js";import{A as dt,P as pt,z as ve,j as ft}from"./index-86bf6b7d.1ae6a306.js";import{o as mt}from"./isEqual-1d4135ea.f7b5493f.js";import{E as vt,F as yt}from"./use-global-config-8328c0ba.c16a91dd.js";var gt=1,ht=4;function ye(a){return Ke(a,gt|ht)}const bt=z({a11y:{type:Boolean,default:!0},locale:{type:h(Object)},size:Qe,button:{type:h(Object)},experimentalFeatures:{type:h(Object)},keyboardNavigation:{type:Boolean,default:!0},message:{type:h(Object)},zIndex:Number,namespace:{type:String,default:"el"}}),re={};N({name:"ElConfigProvider",props:bt,setup(a,{slots:s}){J(()=>a.message,n=>{Object.assign(re,n!=null?n:{})},{immediate:!0,deep:!0});const t=vt(a);return()=>R(s,"default",{config:t==null?void 0:t.value})}});const kt=z({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"}}),wt=["textContent"],$t=N({name:"ElBadge"}),xt=N({...$t,props:kt,setup(a,{expose:s}){const t=a,n=q("badge"),r=E(()=>t.isDot?"":oe(t.value)&&oe(t.max)?t.max<t.value?`${t.max}+`:`${t.value}`:`${t.value}`);return s({content:r}),(c,p)=>(v(),T("div",{class:m(e(n).b())},[R(c.$slots,"default"),D(xe,{name:`${e(n).namespace.value}-zoom-in-center`,persisted:""},{default:F(()=>[we(P("sup",{class:m([e(n).e("content"),e(n).em("content",c.type),e(n).is("fixed",!!c.$slots.default),e(n).is("dot",c.isDot)]),textContent:V(e(r))},null,10,wt),[[$e,!c.hidden&&(e(r)||c.isDot)]])]),_:1},8,["name"])],2))}});var Ct=W(xt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/badge/src/badge.vue"]]);const Et=ue(Ct),St=z({type:{type:String,default:"line",values:["line","circle","dashboard"]},percentage:{type:Number,default:0,validator:a=>a>=0&&a<=100},status:{type:String,default:"",values:["","success","exception","warning"]},indeterminate:{type:Boolean,default:!1},duration:{type:Number,default:3},strokeWidth:{type:Number,default:6},strokeLinecap:{type:h(String),default:"round"},textInside:{type:Boolean,default:!1},width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:h([String,Array,Function]),default:""},striped:Boolean,stripedFlow:Boolean,format:{type:h(Function),default:a=>`${a}%`}}),Tt=["aria-valuenow"],Rt={viewBox:"0 0 100 100"},Ft=["d","stroke","stroke-linecap","stroke-width"],Bt=["d","stroke","opacity","stroke-linecap","stroke-width"],_t={key:0},Lt=N({name:"ElProgress"}),Nt=N({...Lt,props:St,setup(a){const s=a,t={success:"#13ce66",exception:"#ff4949",warning:"#e6a23c",default:"#20a0ff"},n=q("progress"),r=E(()=>({width:`${s.percentage}%`,animationDuration:`${s.duration}s`,backgroundColor:I(s.percentage)})),c=E(()=>(s.strokeWidth/s.width*100).toFixed(1)),p=E(()=>["circle","dashboard"].includes(s.type)?Number.parseInt(`${50-Number.parseFloat(c.value)/2}`,10):0),x=E(()=>{const u=p.value,B=s.type==="dashboard";return`
          M 50 50
          m 0 ${B?"":"-"}${u}
          a ${u} ${u} 0 1 1 0 ${B?"-":""}${u*2}
          a ${u} ${u} 0 1 1 0 ${B?"":"-"}${u*2}
          `}),b=E(()=>2*Math.PI*p.value),d=E(()=>s.type==="dashboard"?.75:1),C=E(()=>`${-1*b.value*(1-d.value)/2}px`),y=E(()=>({strokeDasharray:`${b.value*d.value}px, ${b.value}px`,strokeDashoffset:C.value})),i=E(()=>({strokeDasharray:`${b.value*d.value*(s.percentage/100)}px, ${b.value}px`,strokeDashoffset:C.value,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease, opacity ease 0.6s"})),l=E(()=>{let u;return s.color?u=I(s.percentage):u=t[s.status]||t.default,u}),o=E(()=>s.status==="warning"?Ze:s.type==="line"?s.status==="success"?Re:Ge:s.status==="success"?Fe:Be),g=E(()=>s.type==="line"?12+s.strokeWidth*.4:s.width*.111111+2),w=E(()=>s.format(s.percentage));function f(u){const B=100/u.length;return u.map((S,O)=>ee(S)?{color:S,percentage:(O+1)*B}:S).sort((S,O)=>S.percentage-O.percentage)}const I=u=>{var B;const{color:S}=s;if(Y(S))return S(u);if(ee(S))return S;{const O=f(S);for(const k of O)if(k.percentage>u)return k.color;return(B=O[O.length-1])==null?void 0:B.color}};return(u,B)=>(v(),T("div",{class:m([e(n).b(),e(n).m(u.type),e(n).is(u.status),{[e(n).m("without-text")]:!u.showText,[e(n).m("text-inside")]:u.textInside}]),role:"progressbar","aria-valuenow":u.percentage,"aria-valuemin":"0","aria-valuemax":"100"},[u.type==="line"?(v(),T("div",{key:0,class:m(e(n).b("bar"))},[P("div",{class:m(e(n).be("bar","outer")),style:A({height:`${u.strokeWidth}px`})},[P("div",{class:m([e(n).be("bar","inner"),{[e(n).bem("bar","inner","indeterminate")]:u.indeterminate},{[e(n).bem("bar","inner","striped")]:u.striped},{[e(n).bem("bar","inner","striped-flow")]:u.stripedFlow}]),style:A(e(r))},[(u.showText||u.$slots.default)&&u.textInside?(v(),T("div",{key:0,class:m(e(n).be("bar","innerText"))},[R(u.$slots,"default",{percentage:u.percentage},()=>[P("span",null,V(e(w)),1)])],2)):$("v-if",!0)],6)],6)],2)):(v(),T("div",{key:1,class:m(e(n).b("circle")),style:A({height:`${u.width}px`,width:`${u.width}px`})},[(v(),T("svg",Rt,[P("path",{class:m(e(n).be("circle","track")),d:e(x),stroke:`var(${e(n).cssVarName("fill-color-light")}, #e5e9f2)`,"stroke-linecap":u.strokeLinecap,"stroke-width":e(c),fill:"none",style:A(e(y))},null,14,Ft),P("path",{class:m(e(n).be("circle","path")),d:e(x),stroke:e(l),fill:"none",opacity:u.percentage?1:0,"stroke-linecap":u.strokeLinecap,"stroke-width":e(c),style:A(e(i))},null,14,Bt)]))],6)),(u.showText||u.$slots.default)&&!u.textInside?(v(),T("div",{key:2,class:m(e(n).e("text")),style:A({fontSize:`${e(g)}px`})},[R(u.$slots,"default",{percentage:u.percentage},()=>[u.status?(v(),L(e(M),{key:1},{default:F(()=>[(v(),L(Ce(e(o))))]),_:1})):(v(),T("span",_t,V(e(w)),1))])],6)):$("v-if",!0)],10,Tt))}});var Ut=W(Nt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/progress/src/progress.vue"]]);const Dt=ue(Ut),Ne=Symbol("uploadContextKey"),Pt="ElUpload";class It extends Error{constructor(s,t,n,r){super(s),this.name="UploadAjaxError",this.status=t,this.method=n,this.url=r}}function ge(a,s,t){let n;return t.response?n=`${t.response.error||t.response}`:t.responseText?n=`${t.responseText}`:n=`fail to ${s.method} ${a} ${t.status}`,new It(n,t.status,s.method,a)}function Ot(a){const s=a.responseText||a.response;if(!s)return s;try{return JSON.parse(s)}catch{return s}}const jt=a=>{typeof XMLHttpRequest>"u"&&ce(Pt,"XMLHttpRequest is undefined");const s=new XMLHttpRequest,t=a.action;s.upload&&s.upload.addEventListener("progress",c=>{const p=c;p.percent=c.total>0?c.loaded/c.total*100:0,a.onProgress(p)});const n=new FormData;if(a.data)for(const[c,p]of Object.entries(a.data))Array.isArray(p)?n.append(c,...p):n.append(c,p);n.append(a.filename,a.file,a.file.name),s.addEventListener("error",()=>{a.onError(ge(t,a,s))}),s.addEventListener("load",()=>{if(s.status<200||s.status>=300)return a.onError(ge(t,a,s));a.onSuccess(Ot(s))}),s.open(a.method,t,!0),a.withCredentials&&"withCredentials"in s&&(s.withCredentials=!0);const r=a.headers||{};if(r instanceof Headers)r.forEach((c,p)=>s.setRequestHeader(p,c));else for(const[c,p]of Object.entries(r))Le(p)||s.setRequestHeader(c,String(p));return s.send(n),s},Ue=["text","picture","picture-card"];let Mt=1;const ie=()=>Date.now()+Mt++,De=z({action:{type:String,default:"#"},headers:{type:h(Object)},method:{type:String,default:"post"},data:{type:Object,default:()=>te({})},multiple:{type:Boolean,default:!1},name:{type:String,default:"file"},drag:{type:Boolean,default:!1},withCredentials:Boolean,showFileList:{type:Boolean,default:!0},accept:{type:String,default:""},type:{type:String,default:"select"},fileList:{type:h(Array),default:()=>te([])},autoUpload:{type:Boolean,default:!0},listType:{type:String,values:Ue,default:"text"},httpRequest:{type:h(Function),default:jt},disabled:Boolean,limit:Number}),zt=z({...De,beforeUpload:{type:h(Function),default:_},beforeRemove:{type:h(Function)},onRemove:{type:h(Function),default:_},onChange:{type:h(Function),default:_},onPreview:{type:h(Function),default:_},onSuccess:{type:h(Function),default:_},onProgress:{type:h(Function),default:_},onError:{type:h(Function),default:_},onExceed:{type:h(Function),default:_}}),At=z({files:{type:h(Array),default:()=>te([])},disabled:{type:Boolean,default:!1},handlePreview:{type:h(Function),default:_},listType:{type:String,values:Ue,default:"text"}}),Ht={remove:a=>!!a},qt=["onKeydown"],Wt=["src"],Vt=["onClick"],Xt=["title"],Kt=["onClick"],Qt=["onClick"],Zt=N({name:"ElUploadList"}),Gt=N({...Zt,props:At,emits:Ht,setup(a,{emit:s}){const{t}=dt(),n=q("upload"),r=q("icon"),c=q("list"),p=se(),x=Q(!1),b=d=>{s("remove",d)};return(d,C)=>(v(),L(Me,{tag:"ul",class:m([e(n).b("list"),e(n).bm("list",d.listType),e(n).is("disabled",e(p))]),name:e(c).b()},{default:F(()=>[(v(!0),T(Ee,null,je(d.files,y=>(v(),T("li",{key:y.uid||y.name,class:m([e(n).be("list","item"),e(n).is(y.status),{focusing:x.value}]),tabindex:"0",onKeydown:Se(i=>!e(p)&&b(y),["delete"]),onFocus:C[0]||(C[0]=i=>x.value=!0),onBlur:C[1]||(C[1]=i=>x.value=!1),onClick:C[2]||(C[2]=i=>x.value=!1)},[R(d.$slots,"default",{file:y},()=>[d.listType==="picture"||y.status!=="uploading"&&d.listType==="picture-card"?(v(),T("img",{key:0,class:m(e(n).be("list","item-thumbnail")),src:y.url,alt:""},null,10,Wt)):$("v-if",!0),y.status==="uploading"||d.listType!=="picture-card"?(v(),T("div",{key:1,class:m(e(n).be("list","item-info"))},[P("a",{class:m(e(n).be("list","item-name")),onClick:H(i=>d.handlePreview(y),["prevent"])},[D(e(M),{class:m(e(r).m("document"))},{default:F(()=>[D(e(Je))]),_:1},8,["class"]),P("span",{class:m(e(n).be("list","item-file-name")),title:y.name},V(y.name),11,Xt)],10,Vt),y.status==="uploading"?(v(),L(e(Dt),{key:0,type:d.listType==="picture-card"?"circle":"line","stroke-width":d.listType==="picture-card"?6:2,percentage:Number(y.percentage),style:A(d.listType==="picture-card"?"":"margin-top: 0.5rem")},null,8,["type","stroke-width","percentage","style"])):$("v-if",!0)],2)):$("v-if",!0),P("label",{class:m(e(n).be("list","item-status-label"))},[d.listType==="text"?(v(),L(e(M),{key:0,class:m([e(r).m("upload-success"),e(r).m("circle-check")])},{default:F(()=>[D(e(Re))]),_:1},8,["class"])):["picture-card","picture"].includes(d.listType)?(v(),L(e(M),{key:1,class:m([e(r).m("upload-success"),e(r).m("check")])},{default:F(()=>[D(e(Fe))]),_:1},8,["class"])):$("v-if",!0)],2),e(p)?$("v-if",!0):(v(),L(e(M),{key:2,class:m(e(r).m("close")),onClick:i=>b(y)},{default:F(()=>[D(e(Be))]),_:2},1032,["class","onClick"])),$(" Due to close btn only appears when li gets focused disappears after li gets blurred, thus keyboard navigation can never reach close btn"),$(" This is a bug which needs to be fixed "),$(" TODO: Fix the incorrect navigation interaction "),e(p)?$("v-if",!0):(v(),T("i",{key:3,class:m(e(r).m("close-tip"))},V(e(t)("el.upload.deleteTip")),3)),d.listType==="picture-card"?(v(),T("span",{key:4,class:m(e(n).be("list","item-actions"))},[P("span",{class:m(e(n).be("list","item-preview")),onClick:i=>d.handlePreview(y)},[D(e(M),{class:m(e(r).m("zoom-in"))},{default:F(()=>[D(e(Ye))]),_:1},8,["class"])],10,Kt),e(p)?$("v-if",!0):(v(),T("span",{key:0,class:m(e(n).be("list","item-delete")),onClick:i=>b(y)},[D(e(M),{class:m(e(r).m("delete"))},{default:F(()=>[D(e(et))]),_:1},8,["class"])],10,Qt))],2)):$("v-if",!0)])],42,qt))),128)),R(d.$slots,"append")]),_:3},8,["class","name"]))}});var he=W(Gt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload-list.vue"]]);const Jt=z({disabled:{type:Boolean,default:!1}}),Yt={file:a=>tt(a)},es=["onDrop","onDragover"],Pe="ElUploadDrag",ts=N({name:Pe}),ss=N({...ts,props:Jt,emits:Yt,setup(a,{emit:s}){const t=ze(Ne);t||ce(Pe,"usage: <el-upload><el-upload-dragger /></el-upload>");const n=q("upload"),r=Q(!1),c=se(),p=b=>{if(c.value)return;r.value=!1,b.stopPropagation();const d=Array.from(b.dataTransfer.files),C=t.accept.value;if(!C){s("file",d);return}const y=d.filter(i=>{const{type:l,name:o}=i,g=o.includes(".")?`.${o.split(".").pop()}`:"",w=l.replace(/\/.*$/,"");return C.split(",").map(f=>f.trim()).filter(f=>f).some(f=>f.startsWith(".")?g===f:/\/\*$/.test(f)?w===f.replace(/\/\*$/,""):/^[^/]+\/[^/]+$/.test(f)?l===f:!1)});s("file",y)},x=()=>{c.value||(r.value=!0)};return(b,d)=>(v(),T("div",{class:m([e(n).b("dragger"),e(n).is("dragover",r.value)]),onDrop:H(p,["prevent"]),onDragover:H(x,["prevent"]),onDragleave:d[0]||(d[0]=H(C=>r.value=!1,["prevent"]))},[R(b.$slots,"default")],42,es))}});var as=W(ss,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload-dragger.vue"]]);const ns=z({...De,beforeUpload:{type:h(Function),default:_},onRemove:{type:h(Function),default:_},onStart:{type:h(Function),default:_},onSuccess:{type:h(Function),default:_},onProgress:{type:h(Function),default:_},onError:{type:h(Function),default:_},onExceed:{type:h(Function),default:_}}),ls=["onKeydown"],os=["name","multiple","accept"],rs=N({name:"ElUploadContent",inheritAttrs:!1}),is=N({...rs,props:ns,setup(a,{expose:s}){const t=a,n=q("upload"),r=se(),c=le({}),p=le(),x=l=>{if(l.length===0)return;const{autoUpload:o,limit:g,fileList:w,multiple:f,onStart:I,onExceed:u}=t;if(g&&w.length+l.length>g){u(l,w);return}f||(l=l.slice(0,1));for(const B of l){const S=B;S.uid=ie(),I(S),o&&b(S)}},b=async l=>{if(p.value.value="",!t.beforeUpload)return d(l);let o,g={};try{const f=t.data,I=t.beforeUpload(l);g=me(t.data)?ye(t.data):t.data,o=await I,me(t.data)&&mt(f,g)&&(g=ye(t.data))}catch{o=!1}if(o===!1){t.onRemove(l);return}let w=l;o instanceof Blob&&(o instanceof File?w=o:w=new File([o],l.name,{type:l.type})),d(Object.assign(w,{uid:l.uid}),g)},d=(l,o)=>{const{headers:g,data:w,method:f,withCredentials:I,name:u,action:B,onProgress:S,onSuccess:O,onError:k,httpRequest:Z}=t,{uid:G}=l,ae={headers:g||{},withCredentials:I,file:l,data:o!=null?o:w,method:f,filename:u,action:B,onProgress:K=>{S(K,l)},onSuccess:K=>{O(K,l),delete c.value[G]},onError:K=>{k(K,l),delete c.value[G]}},ne=Z(ae);c.value[G]=ne,ne instanceof Promise&&ne.then(ae.onSuccess,ae.onError)},C=l=>{const o=l.target.files;o&&x(Array.from(o))},y=()=>{r.value||(p.value.value="",p.value.click())},i=()=>{y()};return s({abort:l=>{st(c.value).filter(l?([o])=>String(l.uid)===o:()=>!0).forEach(([o,g])=>{g instanceof XMLHttpRequest&&g.abort(),delete c.value[o]})},upload:b}),(l,o)=>(v(),T("div",{class:m([e(n).b(),e(n).m(l.listType),e(n).is("drag",l.drag)]),tabindex:"0",onClick:y,onKeydown:Se(H(i,["self"]),["enter","space"])},[l.drag?(v(),L(as,{key:0,disabled:e(r),onFile:x},{default:F(()=>[R(l.$slots,"default")]),_:3},8,["disabled"])):R(l.$slots,"default",{key:1}),P("input",{ref_key:"inputRef",ref:p,class:m(e(n).e("input")),name:l.name,multiple:l.multiple,accept:l.accept,type:"file",onChange:C,onClick:o[0]||(o[0]=H(()=>{},["stop"]))},null,42,os)],42,ls))}});var be=W(is,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload-content.vue"]]);const ke="ElUpload",us=a=>{var s;(s=a.url)!=null&&s.startsWith("blob:")&&URL.revokeObjectURL(a.url)},cs=(a,s)=>{const t=ot(a,"fileList",void 0,{passive:!0}),n=i=>t.value.find(l=>l.uid===i.uid);function r(i){var l;(l=s.value)==null||l.abort(i)}function c(i=["ready","uploading","success","fail"]){t.value=t.value.filter(l=>!i.includes(l.status))}const p=(i,l)=>{const o=n(l);o&&(console.error(i),o.status="fail",t.value.splice(t.value.indexOf(o),1),a.onError(i,o,t.value),a.onChange(o,t.value))},x=(i,l)=>{const o=n(l);o&&(a.onProgress(i,o,t.value),o.status="uploading",o.percentage=Math.round(i.percent))},b=(i,l)=>{const o=n(l);o&&(o.status="success",o.response=i,a.onSuccess(i,o,t.value),a.onChange(o,t.value))},d=i=>{Le(i.uid)&&(i.uid=ie());const l={name:i.name,percentage:0,status:"ready",size:i.size,raw:i,uid:i.uid};if(a.listType==="picture-card"||a.listType==="picture")try{l.url=URL.createObjectURL(i)}catch(o){it(ke,o.message),a.onError(o,l,t.value)}t.value=[...t.value,l],a.onChange(l,t.value)},C=async i=>{const l=i instanceof File?n(i):i;l||ce(ke,"file to be removed not found");const o=g=>{r(g);const w=t.value;w.splice(w.indexOf(g),1),a.onRemove(g,w),us(g)};a.beforeRemove?await a.beforeRemove(l,t.value)!==!1&&o(l):o(l)};function y(){t.value.filter(({status:i})=>i==="ready").forEach(({raw:i})=>{var l;return i&&((l=s.value)==null?void 0:l.upload(i))})}return J(()=>a.listType,i=>{i!=="picture-card"&&i!=="picture"||(t.value=t.value.map(l=>{const{raw:o,url:g}=l;if(!g&&o)try{l.url=URL.createObjectURL(o)}catch(w){a.onError(w,l,t.value)}return l}))}),J(t,i=>{for(const l of i)l.uid||(l.uid=ie()),l.status||(l.status="success")},{immediate:!0,deep:!0}),{uploadFiles:t,abort:r,clearFiles:c,handleError:p,handleProgress:x,handleStart:d,handleSuccess:b,handleRemove:C,submit:y}},ds=N({name:"ElUpload"}),ps=N({...ds,props:zt,setup(a,{expose:s}){const t=a,n=Ae(),r=se(),c=le(),{abort:p,submit:x,clearFiles:b,uploadFiles:d,handleStart:C,handleError:y,handleRemove:i,handleSuccess:l,handleProgress:o}=cs(t,c),g=E(()=>t.listType==="picture-card"),w=E(()=>({...t,fileList:d.value,onStart:C,onProgress:o,onSuccess:l,onError:y,onRemove:i}));return He(()=>{d.value.forEach(({url:f})=>{f!=null&&f.startsWith("blob:")&&URL.revokeObjectURL(f)})}),qe(Ne,{accept:We(t,"accept")}),s({abort:p,submit:x,clearFiles:b,handleStart:C,handleRemove:i}),(f,I)=>(v(),T("div",null,[e(g)&&f.showFileList?(v(),L(he,{key:0,disabled:e(r),"list-type":f.listType,files:e(d),"handle-preview":f.onPreview,onRemove:e(i)},de({append:F(()=>[D(be,pe({ref_key:"uploadRef",ref:c},e(w)),{default:F(()=>[e(n).trigger?R(f.$slots,"trigger",{key:0}):$("v-if",!0),!e(n).trigger&&e(n).default?R(f.$slots,"default",{key:1}):$("v-if",!0)]),_:3},16)]),_:2},[f.$slots.file?{name:"default",fn:F(({file:u})=>[R(f.$slots,"file",{file:u})])}:void 0]),1032,["disabled","list-type","files","handle-preview","onRemove"])):$("v-if",!0),!e(g)||e(g)&&!f.showFileList?(v(),L(be,pe({key:1,ref_key:"uploadRef",ref:c},e(w)),{default:F(()=>[e(n).trigger?R(f.$slots,"trigger",{key:0}):$("v-if",!0),!e(n).trigger&&e(n).default?R(f.$slots,"default",{key:1}):$("v-if",!0)]),_:3},16)):$("v-if",!0),f.$slots.trigger?R(f.$slots,"default",{key:2}):$("v-if",!0),R(f.$slots,"tip"),!e(g)&&f.showFileList?(v(),L(he,{key:3,disabled:e(r),"list-type":f.listType,files:e(d),"handle-preview":f.onPreview,onRemove:e(i)},de({_:2},[f.$slots.file?{name:"default",fn:F(({file:u})=>[R(f.$slots,"file",{file:u})])}:void 0]),1032,["disabled","list-type","files","handle-preview","onRemove"])):$("v-if",!0)]))}});var fs=W(ps,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload.vue"]]);const Us=ue(fs),Ie=["success","info","warning","error"],U=te({customClass:"",center:!1,dangerouslyUseHTMLString:!1,duration:3e3,icon:void 0,id:"",message:"",onClose:void 0,showClose:!1,type:"info",offset:16,zIndex:0,grouping:!1,repeatNum:1,appendTo:_e?document.body:void 0}),ms=z({customClass:{type:String,default:U.customClass},center:{type:Boolean,default:U.center},dangerouslyUseHTMLString:{type:Boolean,default:U.dangerouslyUseHTMLString},duration:{type:Number,default:U.duration},icon:{type:pt,default:U.icon},id:{type:String,default:U.id},message:{type:h([String,Object,Function]),default:U.message},onClose:{type:h(Function),required:!1},showClose:{type:Boolean,default:U.showClose},type:{type:String,values:Ie,default:U.type},offset:{type:Number,default:U.offset},zIndex:{type:Number,default:U.zIndex},grouping:{type:Boolean,default:U.grouping},repeatNum:{type:Number,default:U.repeatNum}}),vs={destroy:()=>!0},j=Ve([]),ys=a=>{const s=j.findIndex(r=>r.id===a),t=j[s];let n;return s>0&&(n=j[s-1]),{current:t,prev:n}},gs=a=>{const{prev:s}=ys(a);return s?s.vm.exposed.bottom.value:0},hs=(a,s)=>j.findIndex(t=>t.id===a)>0?20:s,bs=["id"],ks=["innerHTML"],ws=N({name:"ElMessage"}),$s=N({...ws,props:ms,emits:vs,setup(a,{expose:s}){const t=a,{Close:n}=ft,{ns:r,zIndex:c}=yt("message"),{currentZIndex:p,nextZIndex:x}=c,b=Q(),d=Q(!1),C=Q(0);let y;const i=E(()=>t.type?t.type==="error"?"danger":t.type:"info"),l=E(()=>{const k=t.type;return{[r.bm("icon",k)]:k&&ve[k]}}),o=E(()=>t.icon||ve[t.type]||""),g=E(()=>gs(t.id)),w=E(()=>hs(t.id,t.offset)+g.value),f=E(()=>C.value+w.value),I=E(()=>({top:`${w.value}px`,zIndex:p.value}));function u(){t.duration!==0&&({stop:y}=rt(()=>{S()},t.duration))}function B(){y==null||y()}function S(){d.value=!1}function O({code:k}){k===ut.esc&&S()}return Xe(()=>{u(),x(),d.value=!0}),J(()=>t.repeatNum,()=>{B(),u()}),at(document,"keydown",O),nt(b,()=>{C.value=b.value.getBoundingClientRect().height}),s({visible:d,bottom:f,close:S}),(k,Z)=>(v(),L(xe,{name:e(r).b("fade"),onBeforeLeave:k.onClose,onAfterLeave:Z[0]||(Z[0]=G=>k.$emit("destroy")),persisted:""},{default:F(()=>[we(P("div",{id:k.id,ref_key:"messageRef",ref:b,class:m([e(r).b(),{[e(r).m(k.type)]:k.type&&!k.icon},e(r).is("center",k.center),e(r).is("closable",k.showClose),k.customClass]),style:A(e(I)),role:"alert",onMouseenter:B,onMouseleave:u},[k.repeatNum>1?(v(),L(e(Et),{key:0,value:k.repeatNum,type:e(i),class:m(e(r).e("badge"))},null,8,["value","type","class"])):$("v-if",!0),e(o)?(v(),L(e(M),{key:1,class:m([e(r).e("icon"),e(l)])},{default:F(()=>[(v(),L(Ce(e(o))))]),_:1},8,["class"])):$("v-if",!0),R(k.$slots,"default",{},()=>[k.dangerouslyUseHTMLString?(v(),T(Ee,{key:1},[$(" Caution here, message could've been compromised, never use user's input as message "),P("p",{class:m(e(r).e("content")),innerHTML:k.message},null,10,ks)],2112)):(v(),T("p",{key:0,class:m(e(r).e("content"))},V(k.message),3))]),k.showClose?(v(),L(e(M),{key:2,class:m(e(r).e("closeBtn")),onClick:H(S,["stop"])},{default:F(()=>[D(e(n))]),_:1},8,["class","onClick"])):$("v-if",!0)],46,bs),[[$e,d.value]])]),_:3},8,["name","onBeforeLeave"]))}});var xs=W($s,[["__file","/home/runner/work/element-plus/element-plus/packages/components/message/src/message.vue"]]);let Cs=1;const Oe=a=>{const s=!a||ee(a)||Te(a)||Y(a)?{message:a}:a,t={...U,...s};if(!t.appendTo)t.appendTo=document.body;else if(ee(t.appendTo)){let n=document.querySelector(t.appendTo);ct(n)||(n=document.body),t.appendTo=n}return t},Es=a=>{const s=j.indexOf(a);if(s===-1)return;j.splice(s,1);const{handler:t}=a;t.close()},Ss=({appendTo:a,...s},t)=>{const n=`message_${Cs++}`,r=s.onClose,c=document.createElement("div"),p={...s,id:n,onClose:()=>{r==null||r(),Es(d)},onDestroy:()=>{fe(null,c)}},x=D(xs,p,Y(p.message)||Te(p.message)?{default:Y(p.message)?p.message:()=>p.message}:null);x.appContext=t||X._context,fe(x,c),a.appendChild(c.firstElementChild);const b=x.component,d={id:n,vnode:x,vm:b,handler:{close:()=>{b.exposed.visible.value=!1}},props:x.component.props};return d},X=(a={},s)=>{if(!_e)return{close:()=>{}};if(oe(re.max)&&j.length>=re.max)return{close:()=>{}};const t=Oe(a);if(t.grouping&&j.length){const r=j.find(({vnode:c})=>{var p;return((p=c.props)==null?void 0:p.message)===t.message});if(r)return r.props.repeatNum+=1,r.props.type=t.type,r.handler}const n=Ss(t,s);return j.push(n),n.handler};Ie.forEach(a=>{X[a]=(s={},t)=>{const n=Oe(s);return X({...n,type:a},t)}});function Ts(a){for(const s of j)(!a||a===s.props.type)&&s.handler.close()}X.closeAll=Ts;X._context=null;const Ds=lt(X,"$message");export{Dt as B,Et as C,Ue as D,St as E,Jt as J,De as M,Ds as N,U,ye as a,Us as b,Ne as c,zt as d,vs as f,kt as h,ie as i,At as j,re as l,ms as p,Ht as q,ns as s,Yt as x,bt as y,Ie as z};
