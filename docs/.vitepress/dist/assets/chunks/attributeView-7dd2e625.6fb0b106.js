import{e as y,j as c,h as P,p as k,f as C,r as N,w as V,o as r,c as d,M as D,X as j,D as M,E as S,b as u,P as T,d as B,u as p,n as _,N as x}from"../app.f47f61a8.js";import{R as E,j as F,P as I,M as v,T as L}from"./index-b8b964c9.8f77b590.js";const R={class:"epic-attribute-view"},U=["title"],z={class:"attr-input"},$=y({__name:"attributeView",setup(A){const l=c("designer"),m=c("pageSchema"),f=P({});k("formData",f);const h=E.getComponentConfings(),t=C(()=>l.state.checkedNode);function b(a){var o;return typeof a.show=="boolean"?a.show:typeof a.show=="function"?(o=a.show)==null?void 0:o.call(a,{values:t.value}):!0}const i=N([]);V(()=>{var a;return(a=l.state.checkedNode)==null?void 0:a.type},()=>{var n;var a,o;const e=(a=l.state.checkedNode)==null?void 0:a.type;if(!e)return[];const s=(n=(o=h[e])==null?void 0:o.config.attribute)!=null?n:[];i.value=[{label:"\u7EC4\u4EF6ID",type:"input",field:"id",componentProps:{disabled:!0}},...s]},{immediate:!0});function g(a,o,e){typeof e.onChange=="function"&&e.onChange({value:a,values:t.value,componentAttributes:i}),e.changeSync?v(a,o,t.value):x(()=>{v(a,o,t.value)}),L.push(m.schemas,"\u7F16\u8F91\u7EC4\u4EF6\u5C5E\u6027")}return(a,o)=>(r(),d("aside",R,[(r(!0),d(D,null,j(i.value,e=>{var s,n;return r(),d("div",{key:e.field+((s=t.value)==null?void 0:s.id)},[M(u("div",{class:_(["attr-item",e.layout])},[u("div",{class:"attr-label",title:e.label},T(e.label),9,U),u("div",z,[B(p(I),{record:{...e,componentProps:{...e.componentProps,...e.field==="componentProps.defaultValue"?(n=t.value)==null?void 0:n.componentProps:{},hidden:!1},show:!0,noFormItem:!0},"model-value":p(F)(e.field,t.value),"onUpdate:modelValue":w=>g(w,e.field,e)},null,8,["record","model-value","onUpdate:modelValue"])])],2),[[S,b(e)]])])}),128))]))}});export{$ as default};
